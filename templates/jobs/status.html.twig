{#
 # @license https://www.gnu.org/licenses/agpl-3.0.en.html AGPL-3.0+
 #
 # This file is part of Team Drive Migrator, an application for migrating
 # files into Team Drives.
 # Copyright (C) 2019  Anime Critics United, Inc. <webmaster@castlepointanime.com>
 #
 # This program is free software: you can redistribute it and/or modify
 # it under the terms of the GNU Affero General Public License as
 # published by the Free Software Foundation, either version 3 of the
 # License, or (at your option) any later version.
 #
 # This program is distributed in the hope that it will be useful,
 # but WITHOUT ANY WARRANTY; without even the implied warranty of
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 # GNU Affero General Public License for more details.
 #
 # You should have received a copy of the GNU Affero General Public License
 # along with this program.  If not, see <https://www.gnu.org/licenses/>.
 #}

{% extends "base.html.twig" %}

{% block breadcrumb %}
	<ol class="breadcrumb" aria-label="breadcrumb">
    <li class="breadcrumb-item"><a href="{{ url('job_new') }}">Jobs</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{ job.getName() }}</li>
  </ol>
{% endblock %}

{% block title %}Job Status for {{ job.getName() }}{% endblock %}

{% block body %}

<p>{{ job.getDescription() }}

{% if job.getGrants() | length > 0 %}
	<table class="table">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">Email</th>
				<th scope="col">Email Sent</th>
				<th scope="col">Granted</th>
			</tr>
		</thead>
		{% for grant in job.getGrants() %}
			<tr>
				<th scope="row">{{ loop.index }}</th>
				<td>{{ grant.getEmail() }}</td>
				<td>{{ grant.getEmailTime() }}</td>
				<td>{{ grant.getGrantTime() }}</td>
			</tr>
		{% endfor %}
	</table>
{% endif %}

{% endblock %}